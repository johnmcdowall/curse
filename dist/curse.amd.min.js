define("curse",["exports"],function(e){"use strict";var t=function(){var e=function(e){this.element=e,this.reset()};return Object.defineProperties(e.prototype,{capture:{writable:!0,value:function(){var e=this,t=window.getSelection(),n=0;this.reset(),this.domWalk(this.element,function(i){return e.start&&e.end?!1:(t.anchorNode===i&&(e.start=n+t.anchorOffset),t.focusNode===i&&(e.end=n+t.focusOffset),void(n+=e.nodeLength(i)))})}},restore:{writable:!0,value:function(e){var t=this;if(void 0===e&&(e=!0),!e||document.activeElement===this.element){e||this.element.focus();var n,i,r=document.createRange(),a=0;this.domWalk(this.element,function(e){if(n&&i)return!1;var o=t.nodeLength(e);!n&&a+o>=start&&(n=!0,r.setStart(e,start-a)),!i&&a+o>=end&&(i=!0,r.setEnd(e,end-a)),a+=o});var o=window.getSelection();o.removeAllRanges(),o.addRange(r)}}},domWalk:{writable:!0,value:function(e,t){var n=t(e);if(n!==!1)for(e=e.firstChild;e;)this.domWalk(e,t),e=e.nextSibling}},reset:{writable:!0,value:function(){this.start=null,this.end=null}},nodeLength:{writable:!0,value:function(e){return"#text"===e.nodeName?e.data.length:"BR"===e.nodeName?1:0}}}),e}();e["default"]=t});